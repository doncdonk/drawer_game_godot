# GameData.gd
# ã‚¢ã‚¤ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ãƒ¬ã‚¢ãƒªãƒ†ã‚£å®šç¾©
extends Node

const RARITY_WEIGHTS := {
	"common":    50,
	"uncommon":  30,
	"rare":      15,
	"epic":       4,
	"legendary":  1,
}

const RARITY_COLORS := {
	"common":    Color("#7a8a99"),
	"uncommon":  Color("#4db87a"),
	"rare":      Color("#4a9eff"),
	"epic":      Color("#b06aff"),
	"legendary": Color("#ffc844"),
}

const RARITY_BG_COLORS := {
	"common":    Color(0.478, 0.541, 0.600, 0.15),
	"uncommon":  Color(0.302, 0.722, 0.478, 0.15),
	"rare":      Color(0.290, 0.620, 1.000, 0.15),
	"epic":      Color(0.690, 0.416, 1.000, 0.15),
	"legendary": Color(1.000, 0.784, 0.267, 0.18),
}

const RARITY_NAMES := {
	"common":    "ã‚³ãƒ¢ãƒ³",
	"uncommon":  "ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³",
	"rare":      "ãƒ¬ã‚¢",
	"epic":      "ã‚¨ãƒ”ãƒƒã‚¯",
	"legendary": "ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼",
}

const ITEMS := {
	"common": [
		{"name": "å¤ã³ãŸåŒ…å¸¯",              "value": 500,  "icon": "ðŸ©¹"},
		{"name": "ç©ºã®æ°´ç­’",                "value": 800,  "icon": "ðŸ’§"},
		{"name": "ç¼¶è©°(è³žå‘³æœŸé™åˆ‡ã‚Œ)",      "value": 600,  "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°_è³žå‘³æœŸé™åˆ‡ã‚Œ_"},
		{"name": "ãƒ©ã‚¤ã‚¿ãƒ¼",                "value": 700,  "icon": "ðŸ”¥"},
		{"name": "ãƒ­ãƒ¼ãƒ—ã®åˆ‡ã‚Œç«¯",          "value": 400,  "icon": "ðŸª¢"},
		{"name": "éŒ†ã³ãŸé‡˜",                "value": 300,  "icon": "ðŸ“Œ"},
		{"name": "å¤æ–°èž",                  "value": 200,  "icon": "ðŸ“°"},
		{"name": "å‰²ã‚ŒãŸæ‡ä¸­é›»ç¯",          "value": 900,  "icon": "ðŸ”¦"},
		{"name": "ã‚¿ãƒã‚³ã€Œãƒ–ãƒ©ãƒƒã‚¯ãƒ¬ã‚¤ãƒ´ãƒ³ã€",    "value": 850, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lãƒ–ãƒ©ãƒƒã‚¯ãƒ¬ã‚¤ãƒ´ãƒ³R"},
		{"name": "ã‚¿ãƒã‚³ã€Œãƒ‡ãƒƒãƒ‰ã‚¹ãƒ¢ãƒ¼ã‚¯ã€",      "value": 750, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lãƒ‡ãƒƒãƒ‰ã‚¹ãƒ¢ãƒ¼ã‚¯R"},
		{"name": "ã‚¿ãƒã‚³ã€Œã‚´ãƒ¼ã‚¹ãƒˆã‚·ãƒ£ãƒ‰ã‚¦ã€",    "value": 900, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lã‚´ãƒ¼ã‚¹ãƒˆã‚·ãƒ£ãƒ‰ã‚¦R"},
		{"name": "ã‚¿ãƒã‚³ã€Œã‚¹ãƒãƒ¼ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã€",    "value": 820, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lã‚¹ãƒãƒ¼ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰R"},
		{"name": "ã‚¿ãƒã‚³ã€Œã‚¢ã‚¤ã‚¢ãƒ³ãƒ•ã‚©ã‚°ã€",      "value": 780, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lã‚¢ã‚¤ã‚¢ãƒ³ãƒ•ã‚©ã‚°R"},
		{"name": "ã‚¿ãƒã‚³ã€Œã‚¯ãƒªãƒ ã‚¾ãƒ³ãƒ€ã‚¹ãƒˆã€",    "value": 960, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lã‚¯ãƒªãƒ ã‚¾ãƒ³ãƒ€ã‚¹ãƒˆR"},
		{"name": "ã‚¿ãƒã‚³ã€Œã‚µã‚¤ãƒ¬ãƒ³ãƒˆã‚¢ãƒƒã‚·ãƒ¥ã€",  "value": 710, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lã‚µã‚¤ãƒ¬ãƒ³ãƒˆã‚¢ãƒƒã‚·ãƒ¥R"},
		{"name": "ã‚¿ãƒã‚³ã€Œãƒ€ãƒ¼ã‚¯ãƒžãƒ¼ã‚·ãƒ¥ã€",      "value": 880, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lãƒ€ãƒ¼ã‚¯ãƒžãƒ¼ã‚·ãƒ¥R"},
		{"name": "ã‚¿ãƒã‚³ã€Œãƒ­ã‚¹ãƒˆãƒãƒ¼ãƒãƒ¼ã€",      "value": 840, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lãƒ­ã‚¹ãƒˆãƒãƒ¼ãƒãƒ¼R"},
		{"name": "ã‚¿ãƒã‚³ã€Œã‚¼ãƒ­ãƒ–ãƒªãƒ¼ã‚ºã€",        "value": 760, "icon": "ðŸš¬", "tex_key": "ã‚¿ãƒã‚³Lã‚¼ãƒ­ãƒ–ãƒªãƒ¼ã‚ºR"},
		{"name": "ç¼¶è©°ã€Œã‚·ã‚§ãƒ«ã‚¿ãƒ¼ãƒŸãƒ¼ãƒˆã€",      "value": 650, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lã‚·ã‚§ãƒ«ã‚¿ãƒ¼ãƒŸãƒ¼ãƒˆR"},
		{"name": "ç¼¶è©°ã€Œãƒãƒ³ã‚«ãƒ¼ã‚·ãƒãƒ¥ãƒ¼ã€",      "value": 720, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lãƒãƒ³ã‚«ãƒ¼ã‚·ãƒãƒ¥ãƒ¼R"},
		{"name": "ç¼¶è©°ã€Œã‚¢ã‚¤ã‚¢ãƒ³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€",    "value": 580, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lã‚¢ã‚¤ã‚¢ãƒ³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³R"},
		{"name": "ç¼¶è©°ã€Œãƒ‡ãƒãƒ•ã‚£ãƒƒã‚·ãƒ¥ã€",        "value": 640, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lãƒ‡ãƒãƒ•ã‚£ãƒƒã‚·ãƒ¥R"},
		{"name": "ç¼¶è©°ã€Œã‚°ãƒ¬ãƒ¼ã‚¾ãƒ¼ãƒ³ã‚¹ãƒ¼ãƒ—ã€",    "value": 700, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lã‚°ãƒ¬ãƒ¼ã‚¾ãƒ¼ãƒ³ã‚¹ãƒ¼ãƒ—R"},
		{"name": "ç¼¶è©°ã€Œãƒ•ã‚©ãƒ¼ãƒˆãƒ¬ã‚¹ãƒ“ãƒ¼ãƒ³ã‚ºã€",  "value": 610, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lãƒ•ã‚©ãƒ¼ãƒˆãƒ¬ã‚¹ãƒ“ãƒ¼ãƒ³ã‚ºR"},
		{"name": "ç¼¶è©°ã€Œã‚µãƒ¼ãƒ—ãƒ©ã‚¹ã‚³ãƒ¼ãƒ³ã€",      "value": 560, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lã‚µãƒ¼ãƒ—ãƒ©ã‚¹ã‚³ãƒ¼ãƒ³R"},
		{"name": "ç¼¶è©°ã€Œãƒ©ã‚¹ãƒˆã‚µãƒ—ãƒ©ã‚¤é‡Žèœã€",    "value": 630, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lãƒ©ã‚¹ãƒˆã‚µãƒ—ãƒ©ã‚¤é‡ŽèœR"},
		{"name": "ç¼¶è©°ã€ŒãƒŸãƒªã‚¿ãƒªãƒ¼ãƒãƒ¼ã‚¯ã€",      "value": 770, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°LãƒŸãƒªã‚¿ãƒªãƒ¼ãƒãƒ¼ã‚¯R"},
		{"name": "ç¼¶è©°ã€Œã‚¹ã‚«ãƒ™ãƒ³ã‚¸ãƒ£ãƒ¼ãƒ•ãƒ«ãƒ¼ãƒ„ã€","value": 590, "icon": "ðŸ¥«", "tex_key": "ç¼¶è©°Lã‚¹ã‚«ãƒ™ãƒ³ã‚¸ãƒ£ãƒ¼ãƒ•ãƒ«ãƒ¼ãƒ„R"},
		{"name": "ä½¿ã„å¤ã—ãŸè»æ‰‹",          "value": 250, "icon": "ðŸ§¤"},
		{"name": "éŒ†ã³ãŸãƒã‚µãƒŸ",            "value": 350, "icon": "âœ‚ï¸"},
		{"name": "ç©ºã®ãƒšãƒƒãƒˆãƒœãƒˆãƒ«",        "value": 180, "icon": "ðŸ¶"},
		{"name": "ã‚¬ãƒ ãƒ†ãƒ¼ãƒ—ã®æ®‹ã‚Š",        "value": 420, "icon": "ðŸŸ«"},
		{"name": "å‰²ã‚ŒãŸã‚¬ãƒ©ã‚¹ç“¶",          "value": 150, "icon": "ðŸ¾"},
		{"name": "é›»æºã‚±ãƒ¼ãƒ–ãƒ«",            "value": 320, "icon": "ðŸ”Œ"},
		{"name": "ãƒ¯ã‚¤ãƒ¤ãƒ¼",               "value": 280, "icon": "ã€°ï¸"},
		{"name": "å£Šã‚ŒãŸæ™‚è¨ˆ",             "value": 380, "icon": "ðŸ•°ï¸"},
		{"name": "æ±šã‚ŒãŸã‚¿ã‚ªãƒ«",           "value": 120, "icon": "ðŸ§»"},
		{"name": "ç©ºãç¼¶",                 "value": 100, "icon": "ðŸ«™"},
		{"name": "æŠ˜ã‚ŒãŸé‰›ç­†",             "value": 90,  "icon": "âœï¸"},
		{"name": "å¤ã³ãŸã‚³ã‚¤ãƒ³",           "value": 460, "icon": "ðŸª¨"},
		{"name": "éŒ†ã³ãŸå—äº¬éŒ ",           "value": 340, "icon": "ðŸ”’"},
		{"name": "æ“¦ã‚Šåˆ‡ã‚ŒãŸæ‰‹è¢‹",         "value": 200, "icon": "ðŸ«³"},
		{"name": "æ¬ ã‘ãŸãƒŠã‚¤ãƒ•",           "value": 430, "icon": "ðŸ—¡ï¸"},
		{"name": "ãƒœãƒ­å¸ƒ",                 "value": 110, "icon": "ðŸ©²"},
		{"name": "æœ¨åˆ‡ã‚Œ",                 "value": 80,  "icon": "ðŸªµ"},
		{"name": "å¤ã³ãŸéµ",               "value": 390, "icon": "ðŸ—ï¸"},
		{"name": "æ±šã‚ŒãŸã‚´ãƒ¼ã‚°ãƒ«",         "value": 480, "icon": "ðŸ¥½"},
		{"name": "æ½°ã‚ŒãŸãƒ©ãƒ³ã‚¿ãƒ³",         "value": 360, "icon": "ðŸ®"},
		{"name": "éŒ†ã³ãŸãƒã‚¸",             "value": 130, "icon": "âš™ï¸"},
		{"name": "ä½¿ã„å¤ã—ãŸæ­¯ãƒ–ãƒ©ã‚·",     "value": 70,  "icon": "ðŸª¥"},
		{"name": "å¤ã³ãŸãƒ¡ãƒ¢å¸³",           "value": 240, "icon": "ðŸ““"},
		{"name": "å‰²ã‚ŒãŸã‚³ãƒ³ãƒ‘ã‚¹",         "value": 410, "icon": "ðŸ§¿"},
		{"name": "æ“¦ã‚Šåˆ‡ã‚ŒãŸåœ°å›³",         "value": 450, "icon": "ðŸ—¾"},
		{"name": "éŒ†ã³ãŸãƒãƒ¼ãƒ«",           "value": 490, "icon": "ðŸª›"},
		{"name": "ç©ºã®ã‚¹ãƒ—ãƒ¬ãƒ¼ç¼¶",         "value": 160, "icon": "ðŸ§´"},
		{"name": "æ±šã‚ŒãŸåŒ…å¸¯",             "value": 190, "icon": "ðŸ§£"},
		{"name": "ç„¦ã’ãŸãƒžãƒƒãƒç®±",         "value": 220, "icon": "ðŸ§±"},
	],
	"uncommon": [
		{"name": "æ•‘æ€¥ã‚­ãƒƒãƒˆ",              "value": 2500, "icon": "ðŸ¥"},
		{"name": "æµ„æ°´ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ",          "value": 2000, "icon": "ðŸ’Š"},
		{"name": "ãƒŠã‚¤ãƒ­ãƒ³ãƒãƒƒã‚°",          "value": 1800, "icon": "ðŸŽ’"},
		{"name": "ã‚³ãƒ³ãƒ‘ã‚¹",                "value": 2200, "icon": "ðŸ§­"},
		{"name": "å¤šæ©Ÿèƒ½ãƒ„ãƒ¼ãƒ«",            "value": 2800, "icon": "ðŸ”§"},
		{"name": "é›»æ± ãƒ‘ãƒƒã‚¯",              "value": 1500, "icon": "ðŸ”‹"},
		{"name": "ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒžã‚¹ã‚¯",        "value": 2300, "icon": "ðŸ˜·"},
		{"name": "æŠ˜ã‚Šç•³ã¿ãƒŠã‚¤ãƒ•",          "value": 1900, "icon": "ðŸ”ª"},
		{"name": "ã‚µãƒã‚¤ãƒãƒ«ãƒ–ãƒ©ãƒ³ã‚±ãƒƒãƒˆ",  "value": 1700, "icon": "ðŸ›Œ"},
		{"name": "é˜²æ°´ãƒžãƒƒãƒ20æœ¬",          "value": 1300, "icon": "ðŸ”¥"},
		{"name": "å¿œæ€¥å‡¦ç½®ãƒžãƒ‹ãƒ¥ã‚¢ãƒ«",      "value": 2100, "icon": "ðŸ“—"},
		{"name": "é‡‘å±žè£½ã‚«ãƒƒãƒ—",            "value": 1600, "icon": "ðŸ¥›"},
		{"name": "é‡£ã‚Šç³¸ã¨é‡ã‚»ãƒƒãƒˆ",        "value": 1400, "icon": "ðŸŽ£"},
		{"name": "è€æ°´æ€§ãƒãƒ¼ãƒ",            "value": 2400, "icon": "ðŸ‘œ"},
		{"name": "ã‚¹ãƒªãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒˆ",        "value": 2600, "icon": "ðŸªƒ"},
		{"name": "å°é‘‘",                   "value": 1850, "icon": "ðŸ–Šï¸"},
		{"name": "å¤ã³ãŸVHS",              "value": 2100, "icon": "ðŸŽžï¸"},
	],
	"rare": [
		{"name": "è»ç”¨åŒçœ¼é¡",             "value": 8500,  "icon": "ðŸ”­"},
		{"name": "ã‚¿ã‚¯ãƒ†ã‚£ã‚«ãƒ«ãƒŠã‚¤ãƒ•",      "value": 7200,  "icon": "ðŸ”ª"},
		{"name": "æºå¸¯æµ„æ°´å™¨",              "value": 6800,  "icon": "ðŸ’§"},
		{"name": "ã‚½ãƒ¼ãƒ©ãƒ¼å……é›»å™¨",          "value": 9000,  "icon": "â˜€ï¸"},
		{"name": "æš—è¦–ã‚¹ã‚³ãƒ¼ãƒ—",            "value": 12000, "icon": "ðŸ‘ï¸"},
		{"name": "é˜²å¼¾ãƒ—ãƒ¬ãƒ¼ãƒˆ",            "value": 11000, "icon": "ðŸ›¡ï¸"},
		{"name": "GPSãƒ‡ãƒã‚¤ã‚¹",             "value": 8000,  "icon": "ðŸ“¡"},
		{"name": "åŒ»ç™‚ç”¨ç¸«åˆã‚­ãƒƒãƒˆ",        "value": 7500,  "icon": "ðŸ©º"},
		{"name": "æºå¸¯åž‹ç„¡ç·šå—ä¿¡æ©Ÿ",        "value": 10500, "icon": "ðŸ“»"},
		{"name": "ãƒã‚¿ãƒ³è£½ãƒ•ãƒ©ã‚¹ã‚¯",        "value": 6500,  "icon": "ðŸ§ª"},
		{"name": "çˆ†ç™ºç‰©æ¤œçŸ¥å™¨(æ—§åž‹)",      "value": 13000, "icon": "âš ï¸"},
		{"name": "é˜²æ°´åœ°å›³ã‚±ãƒ¼ã‚¹",          "value": 7800,  "icon": "ðŸ—ºï¸"},
		{"name": "USBãƒ¡ãƒ¢ãƒª",              "value": 9500,  "icon": "ðŸ’¾"},
		{"name": "å£Šã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã‚¬ãƒ³",       "value": 7000,  "icon": "ðŸ”«"},
	],
	"epic": [
		{"name": "è»ç”¨ç„¡ç·šæ©Ÿ",              "value": 25000, "icon": "ðŸ“»"},
		{"name": "ã‚¢ã‚µãƒ«ãƒˆãƒãƒƒã‚¯ãƒ‘ãƒƒã‚¯",    "value": 22000, "icon": "ðŸŽ’"},
		{"name": "é«˜æ€§èƒ½åŒçœ¼é¡",            "value": 28000, "icon": "ðŸ”­"},
		{"name": "ã‚µãƒ¼ãƒžãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ£ãƒ¼",    "value": 35000, "icon": "ðŸŒ¡ï¸"},
		{"name": "æˆ¦è¡“ãƒ™ã‚¹ãƒˆ(å®Œå“)",        "value": 30000, "icon": "ðŸ¦º"},
		{"name": "æš—å·åŒ–ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ",        "value": 32000, "icon": "ðŸ’»"},
		{"name": "ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ‰‹è¡“ã‚»ãƒƒãƒˆ",    "value": 40000, "icon": "ðŸ©»"},
		{"name": "æ ¸æ”¾å°„ç·šè¨ˆæ¸¬å™¨",          "value": 38000, "icon": "â˜¢ï¸"},
		{"name": "ãƒ‰ãƒ­ãƒ¼ãƒ³åµå¯Ÿæ©Ÿ(å°åž‹)",    "value": 45000, "icon": "ðŸš"},
		{"name": "ç‰¹æ®Šåˆé‡‘ã‚¤ãƒ³ã‚´ãƒƒãƒˆ",      "value": 27000, "icon": "ðŸ”©"},
		{"name": "ãƒ”ãƒ³ã‚¯ã®VHS",             "value": 33000, "icon": "ðŸ“¼"},
		{"name": "SSD",                    "value": 24000, "icon": "ðŸ’¾"},
	],
	"legendary": [
		{"name": "ãƒ¬ã‚¢ãƒ¡ã‚¿ãƒ«ã®å»¶ã¹æ£’",      "value": 85000,  "icon": "ðŸª™"},
		{"name": "è»äº‹æ©Ÿå¯†æ–‡æ›¸",            "value": 120000, "icon": "ðŸ“œ"},
		{"name": "å®Ÿé¨“ç”¨åŒ»è–¬å“",            "value": 95000,  "icon": "ðŸ’‰"},
		{"name": "ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰åŽŸçŸ³",        "value": 150000, "icon": "ðŸ’Ž"},
		{"name": "è»ç”¨æš—å·ã‚­ãƒ¼",            "value": 110000, "icon": "ðŸ”‘"},
		{"name": "ãƒ¬ã‚¢ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ",    "value": 200000, "icon": "ðŸº"},
		{"name": "æœªç™»éŒ²è¡›æ˜Ÿé›»è©±",          "value": 130000, "icon": "ðŸ“±"},
		{"name": "ç”Ÿä½“èªè¨¼ãƒ‘ã‚¹ã‚«ãƒ¼ãƒ‰",      "value": 175000, "icon": "ðŸ’³"},
		{"name": "é»„é‡‘ã®éŠƒ",               "value": 160000, "icon": "ðŸ”«"},
		{"name": "ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚«ãƒ¼ãƒ‰",      "value": 140000, "icon": "ðŸ–¥ï¸"},
	],
}

static func get_random_item() -> Dictionary:
	var total := 0
	for w in RARITY_WEIGHTS.values():
		total += w
	var roll := randi() % total
	var rarity := "common"
	var acc := 0
	for r in RARITY_WEIGHTS:
		acc += RARITY_WEIGHTS[r]
		if roll < acc:
			rarity = r
			break
	var pool: Array = ITEMS[rarity]
	var item: Dictionary = pool[randi() % pool.size()].duplicate()
	item["rarity"] = rarity
	return item

static func get_all_items() -> Array:
	var all: Array = []
	for rarity in ITEMS:
		for item in ITEMS[rarity]:
			var d: Dictionary = (item as Dictionary).duplicate()
			d["rarity"] = rarity
			all.append(d)
	return all
